<mat-card class="example-card">
    <mat-card-header class="header-center">
        <mat-card-title>Employee History</mat-card-title>
    </mat-card-header>
    <mat-card-content class="h-auto bg-light-blue">
        <div class="graph-container mt-4 pb-3">
            <div *ngFor="let timeline of employeeTimeline">
                <div *ngFor="let year of timeline.years">
                    <div class="grid-row gx-100 gy-50">
                        <div class="grid-4 border-right-line left-arrow">
                            <div class="year-container year" (click)="currentYear($event)">
                                {{year?.starting_year}}
                            </div>
                            <div class="button-group">
                                <button mat-raised-button class="appriasal_name"
                                    (click)="AppriasalName($event)">{{year?.appriasal_salary_change?.appriasal_name}}</button>
                            </div>
                            <div class="button-group" color="accent">
                                <button class="appriasal_rating" mat-raised-button (click)="assesment($event)">Self:
                                    {{year?.appriasal_salary_change?.assesment?.Self}}</button>
                                <button class="appriasal_rating" mat-raised-button
                                    (click)="assesment($event)">LM:{{year?.appriasal_salary_change?.assesment?.LM}}</button>
                                <button class="appriasal_rating" mat-raised-button
                                    (click)="assesment($event)">HR:{{year?.appriasal_salary_change?.assesment?.HR}}</button>
                            </div>
                            <div class="button-group">
                                <button class="salary_change" mat-raised-button (click)="salary($event)">
                                    {{year?.appriasal_salary_change?.old_salary}} -
                                    {{year?.appriasal_salary_change?.new_salary}}
                                    ({{year?.appriasal_salary_change?.change_in_salary}})
                                </button>
                            </div>
                        </div>
                        <div *ngIf="year?.employment_information" class="grid-4 right-arrow">
                            <div class="right-container">
                                <div class="button-group">
                                    <button class="designation_btn" mat-raised-button
                                        *ngIf="year?.employment_information?.current_designation"
                                        (click)="currentDesignation($event)">
                                        {{year?.employment_information?.current_designation}}</button>

                                </div>
                                <div class="button-group">
                                    <button class="band_btn" mat-raised-button
                                        *ngIf="year?.employment_information?.current_band" (click)="BandClick($event)">
                                        {{year?.employment_information?.current_band}}
                                    </button>
                                </div>
                                <div class="button-group">
                                    <button class="department_btn" mat-raised-button
                                        *ngIf="year?.employment_information?.current_department"
                                        (click)="currentDepartment($event)">{{year?.employment_information?.current_department}}</button>
                                    <button class="location_btn" mat-raised-button
                                        *ngIf="year?.employment_information?.current_branch"
                                        (click)="currentBranch($event)">{{year?.employment_information?.current_branch}}</button>
                                </div>
                                <div class="button-group">
                                    <button class="duration_date_btn" mat-raised-button
                                        *ngIf="year?.employment_information?.duration"
                                        (click)="startingDate($event)">{{year?.employment_information?.starting_date}}
                                        - {{year?.employment_information?.ending_band}}</button>
                                    <button class="duration_date_btn" mat-raised-button
                                        *ngIf="year?.employment_information?.duration"
                                        (click)="duration($event)">{{year?.employment_information?.duration}}</button>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="year.LM?.length > 0" class="grid-4 right-arrow-center">
                            <div class="row">
                                <ng-container *ngFor="let underPerson of year.LM">
                                    <div class="col-auto">
                                        <div class="profil-details text-center mb-1">
                                            <button class="duration_date_btn" mat-raised-button *ngIf="underPerson.name"
                                                (click)="LMInfo($event)">{{underPerson?.name}}</button>
                                            <div class="w-100">
                                                <div class="rounded-image text-center">
                                                    <img [src]="underPerson.pic" />
                                                </div>
                                            </div>
                                            <button class="name_btn" mat-raised-button *ngIf="underPerson.duration"
                                                (click)="LMInfo($event)">{{underPerson?.duration}}</button>
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>